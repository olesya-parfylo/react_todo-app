(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),l=c(10),a=c.n(l),i=c(7),r=(c(17),c(18),c(19),c(3)),s=c(12),u=c(5),d=c(1),j=o.a.createContext(null),b=function(e){var t=e.children,c=Object(n.useState)([]),o=Object(r.a)(c,2),l=o[0],a=o[1],i=Object(n.useState)(""),b=Object(r.a)(i,2),O=b[0],f=b[1];Object(n.useEffect)((function(){localStorage.todos&&a(JSON.parse(localStorage.todos))}),[]),Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(l))}),[l]),Object(n.useEffect)((function(){a((function(e){return null===e||void 0===e?void 0:e.map((function(e){switch(O){case"allCompleted":return Object(u.a)(Object(u.a)({},e),{},{completed:!0});case"allActive":return Object(u.a)(Object(u.a)({},e),{},{completed:!1});default:return Object(u.a)({},e)}}))}))}),[O]),Object(n.useEffect)((function(){f((function(){switch(!0){case null===l||void 0===l?void 0:l.every((function(e){return!e.completed})):return"allActive";case null===l||void 0===l?void 0:l.every((function(e){return e.completed})):return"allCompleted";default:return""}}))}),[l]);var v=Object(n.useCallback)((function(){f((function(e){var t;if("allCompleted"===e)t="allActive";else t="allCompleted";return t}))}),[]),p=Object(n.useCallback)((function(e){a((function(t){return[].concat(Object(s.a)(t),[{id:"".concat(t.length-1),title:e,completed:!1}])}))}),[]),m=Object(n.useCallback)((function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),h=Object(n.useCallback)((function(e){a((function(t){return t.map((function(t){return t.id===e?Object(u.a)(Object(u.a)({},t),{},{completed:!t.completed}):t}))}))}),[]),x=Object(n.useCallback)((function(){a((function(e){return e.filter((function(e){return!e.completed}))}))}),[]),g=Object(n.useCallback)((function(e,t){a((function(c){return c.map((function(c){return c.id===e?Object(u.a)(Object(u.a)({},c),{},{title:t}):c}))}))}),[]),C=Object(n.useCallback)((function(e){return e.replace(/[^a-z\u0430-\u044f\u04510-9\s]/gi," ").replace(/\s+/g," ")}),[]);return Object(d.jsx)(j.Provider,{value:{todos:l,toggleAll:O,setTodos:a,handlerToggleAll:v,onChangeTodo:g,validationTitle:C,addTodo:p,deleteTodo:m,checkedTodo:h,clearCompleted:x},children:t})},O=function(){var e,t,c=Object(n.useState)(""),o=Object(r.a)(c,2),l=o[0],a=o[1],i=null===(e=Object(n.useContext)(j))||void 0===e?void 0:e.addTodo,s=null===(t=Object(n.useContext)(j))||void 0===t?void 0:t.validationTitle;return Object(d.jsx)(d.Fragment,{children:i&&s&&Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"text",value:l,className:"new-todo",placeholder:"What needs to be done?",onChange:function(e){a(s(e.target.value))},onKeyDown:function(e){switch(e.key){case"Escape":a("");break;case"Enter":e.preventDefault(),""!==s(l)&&(i(l),a(""))}}})})})},f=["all","active","completed"],v=function(){var e,t,c=null===(e=Object(n.useContext)(j))||void 0===e?void 0:e.clearCompleted,o=null===(t=Object(n.useContext)(j))||void 0===t?void 0:t.todos;return Object(d.jsx)(d.Fragment,{children:c&&o&&0!==(null===o||void 0===o?void 0:o.length)&&Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("span",{className:"todo-count",children:"".concat(o.filter((function(e){return!e.completed})).length," items left")}),Object(d.jsx)("div",{className:"filters",children:f.map((function(e){return Object(d.jsx)("li",{className:"selected",children:Object(d.jsx)(i.b,{to:"/".concat("all"===e?"":e),style:function(e){return e.isActive?{borderColor:"rgba(175, 47, 47, 0.2)"}:{}},children:e[0].toUpperCase()+e.substring(1)})},e)}))}),Object(d.jsx)("button",{type:"button",className:"clear-completed",onClick:c,children:"Clear completed"})]})})},p=function(){var e,t,c,o=null===(e=Object(n.useContext)(j))||void 0===e?void 0:e.todos,l=null===(t=Object(n.useContext)(j))||void 0===t?void 0:t.toggleAll,a=null===(c=Object(n.useContext)(j))||void 0===c?void 0:c.handlerToggleAll;return Object(d.jsx)(d.Fragment,{children:a&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{disabled:null===o,type:"checkbox",id:"toggle-all",className:"toggle-all",checked:"allCompleted"===l,onChange:function(){a()}}),Object(d.jsx)("label",{htmlFor:"toggle-all"})]})})},m=c(2),h=c(11),x=c.n(h),g=function(e){var t,c,o,l,a=e.todo,i=Object(n.useState)(!1),s=Object(r.a)(i,2),u=s[0],b=s[1],O=Object(n.useState)(a.title),f=Object(r.a)(O,2),v=f[0],p=f[1],m=null===(t=Object(n.useContext)(j))||void 0===t?void 0:t.checkedTodo,h=null===(c=Object(n.useContext)(j))||void 0===c?void 0:c.deleteTodo,g=null===(o=Object(n.useContext)(j))||void 0===o?void 0:o.onChangeTodo,C=null===(l=Object(n.useContext)(j))||void 0===l?void 0:l.validationTitle;return Object(n.useEffect)((function(){p(u?a.title:"")}),[u]),Object(d.jsx)(d.Fragment,{children:m&&h&&g&&C&&Object(d.jsxs)("li",{className:x()({completed:a.completed,editing:u}),children:[Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{id:a.id,type:"checkbox",className:"toggle",onChange:function(){m(a.id)},checked:a.completed}),Object(d.jsx)("label",{htmlFor:a.id,onDoubleClick:function(){b(!u)},children:a.title}),Object(d.jsx)("button",{type:"button",className:"destroy",onClick:function(){h(a.id)}})]}),Object(d.jsx)("input",{type:"text",value:v,className:"edit",onChange:function(e){var t=e.target;""!==C(t.value)&&p(C(t.value))},onBlur:function(e){e.preventDefault(),""!==C(v)&&(g(a.id,v),b(!u))},onKeyDown:function(e){switch(e.key){case"Escape":b(!u);break;case"Enter":e.preventDefault(),""!==C(v)&&(g(a.id,v),b(!u))}}})]})})},C=function(e){var t=e.todos;return Object(d.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(d.jsx)(o.a.Fragment,{children:Object(d.jsx)(g,{todo:e})},e.id)}))})},k=function(){var e,t=null===(e=Object(n.useContext)(j))||void 0===e?void 0:e.todos;return Object(d.jsx)(d.Fragment,{children:t&&Object(d.jsxs)(m.c,{children:[Object(d.jsx)(m.a,{path:"*",element:Object(d.jsx)(C,{todos:t})}),Object(d.jsx)(m.a,{path:"/active",element:Object(d.jsx)(C,{todos:t.filter((function(e){return!e.completed}))})}),Object(d.jsx)(m.a,{path:"/completed",element:Object(d.jsx)(C,{todos:t.filter((function(e){return e.completed}))})})]})})},N=function(){return Object(d.jsx)(b,{children:Object(d.jsxs)("section",{className:"todoapp",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)(O,{})]}),Object(d.jsxs)("section",{className:"main",children:[Object(d.jsx)(p,{}),Object(d.jsx)(k,{})]}),Object(d.jsx)(v,{})]})})};a.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.56ad9d52.chunk.js.map